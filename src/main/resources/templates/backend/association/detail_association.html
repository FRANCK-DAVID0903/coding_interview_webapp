<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

    <!--Header
    ============================================= -->
    <th:block th:replace="fragments/fragment_head('Associaition detail')"/>

    <body>

        <!-- Loader ============================================= -->
        <th:block th:replace="fragments/fragment_loader"/>

        <div id="app">

            <div class="main-wrapper main-wrapper-1">

                <!-- Navbar ============================================= -->
                <th:block th:replace="fragments/fragment_navbar"/>

                <!-- Sidebar ============================================= -->
                <th:block th:replace="fragments/fragment_sidebar"/>


                <!-- Main Content ============================================= -->
                <div class="main-content">

                    <section class="section">

                        <div class="section-body">

                            <!--<div class="row">
                                <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                                    <div class="card card-statistic-1">
                                        <div class="card-icon l-bg-orange">
                                            <i class="fas fa-dollar-sign"></i>
                                        </div>
                                        <div class="card-wrap">
                                            <div class="padding-20">
                                                <div class="text-right">
                                                    <h3 class="font-light mb-0">
                                                        <i class="ti-arrow-up text-success"></i> 524
                                                    </h3>
                                                    <span class="text-muted"
                                                          th:text="#{association_detail_page_treasury}"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                                    <div class="card card-statistic-1">
                                        <div class="card-icon l-bg-red">
                                            <i class="fas fa-chart-line"></i>
                                        </div>
                                        <div class="card-wrap">
                                            <div class="padding-20">
                                                <div class="text-right">
                                                    <h3 class="font-light mb-0">
                                                        <i class="ti-arrow-up text-success"></i> 785
                                                    </h3>
                                                    <span class="text-muted"
                                                          th:text="#{association_detail_page_expense}"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-4 col-md-6 col-sm-6 col-12">
                                    <a>
                                        <div class="card card-statistic-1">
                                            <div class="card-icon l-bg-orange">
                                                <i class="fas fa-hiking"></i>
                                            </div>
                                            <div class="card-wrap">
                                                <div class="padding-20">
                                                    <div class="text-right">
                                                        <h3 class="font-light mb-0">
                                                            <i class="ti-arrow-up text-success"></i> 158
                                                        </h3>
                                                        <span class="text-muted"
                                                              th:text="#{association_detail_page_num_member}"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </a>
                                </div>
                            </div>-->

                            <div class="row mt-sm-4">

                                <div class="col-12 col-md-12 col-lg-4">
                                    <div class="card author-box">
                                        <div class="card-body">
                                            <div class="author-box-center">

                                                <figure class="avatar mr-2 avatar-xl" th:data-initial="${initial}"></figure>

                                                <div class="clearfix"></div>
                                                <div class="author-box-name">
                                                    <a href="#" th:text="${association.name}"></a>
                                                </div>
                                                <!--<div class="author-box-job" th:text="${association.acronym}"></div>-->

                                                <div th:if="${association.state} == 0" class="badge badge-success badge-shadow"
                                                     th:text="#{association_list_page_table_header_status_active}"></div>

                                                <div th:if="${association.state} == 1" class="badge badge-warning badge-shadow"
                                                     th:text="#{association_list_page_table_header_status_deactivated}"></div>
                                            </div>
                                            <div class="text-center">
                                                <div class="author-box-description">
                                                    <p th:text="${association.description}"></p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card">
                                        <div class="card-header">
                                            <h4 th:text="#{association_detail_page_office_member}"></h4>
                                        </div>
                                        <div class="card-body">
                                            <div class="py-4">
                                                <p class="clearfix">
                                                    <span class="float-left" th:text="#{association_detail_page_office_member_president}"></span>
                                                    <span class="float-right text-muted" th:text="${presi}"></span>
                                                </p>
                                                <p class="clearfix">
                                                    <span class="float-left" th:text="#{association_detail_page_office_member_secretary}"></span>
                                                    <span class="float-right text-muted" th:text="${secre}"></span>
                                                </p>
                                                <p class="clearfix">
                                                    <span class="float-left" th:text="#{association_detail_page_office_member_treasurer}"></span>
                                                    <span class="float-right text-muted" th:text="${treso}"></span>
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12 col-md-12 col-lg-8">

                                    <div class="card">
                                        <div class="card-header">
                                            <h4 th:text="#{association_detail_page_action}"></h4>
                                        </div>
                                        <div class="card-body">
                                            <p>
                                                <a th:href="@{/backend/association/__${association.id}__/members}" class="btn btn-primary"
                                                        th:text="#{association_detail_page_action_members}"></a>
                                                <a th:href="@{/backend/association/__${association.id}__/tontines}" class="btn btn-primary"
                                                        th:text="#{association_detail_page_action_tontines}"></a>
                                            </p>
                                        </div>
                                    </div>


                                    <div class="card" th:if="${connectedUser == 'actuator' || connectedUser == 'PDG'}">
                                        <div class="padding-20">

                                            <ul class="nav nav-tabs" id="myTab2" role="tablist">
                                                <li class="nav-item">
                                                    <a class="nav-link active" id="info-tab2" data-toggle="tab" href="#infos"
                                                       role="tab"
                                                       aria-selected="true"
                                                       th:text="#{association_detail_page_tab_information}"></a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="email-tab2" data-toggle="tab" href="#emails"
                                                       role="tab"
                                                       aria-selected="false"
                                                       th:text="#{association_detail_page_tab_change_email}"></a>
                                                </li>
                                                <li class="nav-item">
                                                    <a class="nav-link" id="phone-tab2" data-toggle="tab" href="#phones"
                                                       role="tab"
                                                       aria-selected="false"
                                                       th:text="#{association_detail_page_tab_change_phone}"></a>
                                                </li>
                                            </ul>

                                            <div class="tab-content tab-bordered" id="myTab3Content">

                                                <div class="tab-pane fade show active" id="infos" role="tabpanel"
                                                     aria-labelledby="info-tab2">
                                                    <form method="post" th:action="@{/backend/association/update}"
                                                          class="needs-validation">

                                                        <input type="hidden" th:value="${association.id}" name="id">

                                                        <div class="card-header">
                                                            <h4 th:text="#{association_detail_page_tab_information_desc}"></h4>
                                                        </div>

                                                        <div class="card-body">
                                                            <div class="row">
                                                                <div class="form-group col-md-12 col-12">
                                                                    <label>
                                                                        <span th:text="#{association_add_page_label_name}"></span>
                                                                    </label>
                                                                    <input required type="text" class="form-control" name="name"
                                                                           th:value="${association.name}">
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="form-group col-md-12 col-12">
                                                                    <label>
                                                                        <span th:text="#{association_add_page_label_acronym}"></span>
                                                                    </label>
                                                                    <input required type="text" class="form-control"
                                                                           name="acronym" th:value="${association.acronym}">
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="form-group col-md-12 col-12">
                                                                    <label>Description</label>
                                                                    <textarea required name="description" class="form-control"
                                                                              th:text="${association.description}"></textarea>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="card-footer text-right">
                                                            <button class="btn btn-primary">
                                                                <span th:text="#{association_add_page_button_save}"></span>
                                                            </button>
                                                        </div>

                                                    </form>
                                                </div>

                                                <div class="tab-pane fade" id="emails" role="tabpanel"
                                                     aria-labelledby="email-tab2">
                                                    <form method="post" th:action="@{/backend/association/update_mail}"
                                                          class="needs-validation">

                                                        <input type="hidden" th:value="${association.id}" name="id">

                                                        <div class="card-header">
                                                            <h4 th:text="#{association_detail_page_tab_change_email_desc}"></h4>
                                                        </div>

                                                        <div class="card-body">
                                                            <div class="row">
                                                                <div class="form-group col-md-12 col-12">
                                                                    <label>
                                                                        <span th:text="#{association_detail_page_tab_change_email_old}"></span>
                                                                    </label>
                                                                    <input disabled type="text" class="form-control"
                                                                           name="email" th:placeholder="${association.contact.email}">
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="form-group col-md-12 col-12">
                                                                    <label>
                                                                        <span th:text="#{association_detail_page_tab_change_email_new}"></span>
                                                                    </label>
                                                                    <input required type="text" class="form-control"
                                                                           name="email"
                                                                           th:placeholder="#{association_add_page_label_mail}">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="card-footer text-right">
                                                            <button class="btn btn-primary">
                                                                <span th:text="#{association_add_page_button_save}"></span>
                                                            </button>
                                                        </div>

                                                    </form>
                                                </div>

                                                <div class="tab-pane fade" id="phones" role="tabpanel"
                                                     aria-labelledby="phone-tab2">
                                                    <form method="post" th:action="@{/backend/association/update_phoneNumber}"
                                                          class="needs-validation">

                                                        <input type="hidden" th:value="${association.id}" name="id">

                                                        <div class="card-header">
                                                            <h4 th:text="#{association_detail_page_tab_change_phone_desc}"></h4>
                                                        </div>

                                                        <div class="card-body">
                                                            <div class="row">
                                                                <div class="form-group col-md-12 col-12">
                                                                    <label>
                                                                        <span th:text="#{association_detail_page_tab_change_phone_old}"></span>
                                                                    </label>
                                                                    <input disabled type="text" class="form-control"
                                                                           th:placeholder="${association.contact.phone}">
                                                                </div>
                                                            </div>

                                                            <div class="row">
                                                                <div class="form-group col-md-12 col-12">
                                                                    <label>
                                                                        <span th:text="#{association_detail_page_tab_change_phone_new}"></span>
                                                                    </label>
                                                                    <input required type="text" class="form-control"
                                                                           name="phoneNumber"
                                                                           th:placeholder="#{association_add_page_label_phone}">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="card-footer text-right">
                                                            <button class="btn btn-primary">
                                                                <span th:text="#{association_add_page_button_save}"></span>
                                                            </button>
                                                        </div>

                                                    </form>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>

                        </div>

                    </section>

                </div>

                <!-- Footer ============================================= -->
                <th:block th:replace="fragments/fragment_footer"/>

            </div>

        </div>

        <!-- BEGIN PAGE LEVEL JS-->
        <script>
            $(document).ready(function () {
                $('#association').attr('class', 'active');
                $('#myAssociation').attr('class', 'active');
            });
        </script>
        <!-- END PAGE LEVEL JS-->

    </body>

</html>